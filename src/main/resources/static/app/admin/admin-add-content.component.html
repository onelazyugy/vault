<div style="padding:5px;">
    <form #addEntryForm="ngForm" (submit)="addEntry(addEntryForm)" novalidate>
        <div class="form-group" [class.has-error]="hasCategoryError">
            <label for="category">Category</label>
            <select class="form-control" #category name="category"
                    (blur)="validateCategory(category.value)" 
                    (change)="validateCategory(category.value)"
                    [(ngModel)]="entryModel.category">
                <option value="default">Select a Category...</option>
                <option *ngFor="let cat of categories">{{cat}}</option>
            </select>
            <div *ngIf="hasCategoryError" class="alert alert-danger">
                An valid option must be selected.
            </div>
        </div>
        <div class="form-group" [class.has-error]="tag.invalid && tag.dirty">
            <label class="control-label" for="tagId">Tag</label>
            <input #tag="ngModel" id="tagId" type="text" class="form-control" pattern="^[a-zA-Z]*" required name="tag" placeholder="enter a tag, separate by comma"
            [ngModel]="entryModel.tag" (ngModelChange)="onTagInputChange($event, addEntryForm)">
            <div *ngIf="tag.invalid && tag.dirty" class="alert alert-danger">
                Tag must be a combination of letter (a-z).
            </div>
        </div>
        <div class="form-group" [class.has-error]="username.invalid && username.dirty">
            <label for="username">User Name</label>
            <input #username="ngModel" id="usernameId"  type="text" class="form-control" pattern="^[a-zA-Z0-9]*" required name="username" placeholder="enter a username"
            [ngModel]="entryModel.username" (ngModelChange)="onUserNameInputChange($event, addEntryForm)">
            <div *ngIf="username.invalid && username.dirty" class="alert alert-danger">
                User Name must be a combination of letter and or number.
            </div>
        </div>
        <div class="form-group">
            <label for="comment">Comment</label>
            <textarea class="form-control" rows="5" #comment="ngModel" id="commentId" class="form-control" required name="Comment"
            [ngModel]="entryModel.comment" (ngModelChange)="onComentChange($event, addEntryForm)"></textarea>
        </div>
        <div class="form-group" [class.has-error]="password.invalid && password.dirty">
            <label for="password">Password</label>
            <input #password="ngModel" id="passwordId"  type="password" class="form-control" pattern="^[^\s]*" required name="password" placeholder="enter a password"
            [ngModel]="entryModel.password" (ngModelChange)="onPasswordInputChange($event, addEntryForm)">
            <div *ngIf="password.invalid && password.dirty" class="alert alert-danger">
                Password cannot have white space.
            </div>
        </div>
        <div class="form-group" [class.has-error]="passwordConfirm.invalid && passwordConfirm.dirty">
            <label for="passwordConfirm">Confirm Password</label>
            <input #passwordConfirm="ngModel" id="passwordConfirmId"  type="password" class="form-control" pattern="^[^\s]*" required name="passwordConfirm" placeholder="confirm password"
            [ngModel]="entryModel.passwordConfirm" (ngModelChange)="onPasswordConfirmInputChange($event, addEntryForm)">
            <div *ngIf="passwordConfirm.invalid && passwordConfirm.dirty" class="alert alert-danger">
                Confirm password cannot have white space.
            </div>
        </div>
        <p class="tpbutton btn-toolbar text-center pull-right">
            <button type="submit" class="btn btn-warning pull-right">CLEAR</button>
            <button type="submit" class="btn btn-primary pull-right" [disabled]="addEntryForm.invalid || hasCategoryError">SAVE</button>
        </p>
        {{responseMsg}}
    </form>
</div>